<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Encontre as melhores oportunidades de emprego no Espírito Santo. Vagas atualizadas para diversos setores.">
    <meta name="keywords" content="empregos, vagas, Espírito Santo, Vitória, Vila Velha">
    <meta name="author" content="Empregos Capixaba">
    <title>Empregos Capixaba</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div>
            <h1>Empregos Capixaba</h1>
            <p>Encontre as melhores oportunidades no Espírito Santo!</p>
        </div>
        <div class="ads-space">
            <p>Espaço para anúncios</p>
        </div>
    </header>

    <nav>
        <a href="#">Home</a>
        <a href="#vagas">Vagas</a>
        <a href="#anunciar">Anunciar Vaga</a>
        <a href="#contato">Contato</a>
    </nav>

    <main>
        <div class="content">
            <section id="vagas">
                <h2>Vagas Disponíveis</h2>
                <div class="job-listing">
                    <h3>Analista de Sistemas</h3>
                    <p><strong>Local:</strong> Vitória, ES</p>
                    <p><strong>Salário:</strong> R$ 5.000,00</p>
                    <p><strong>Descrição:</strong> Atuar no desenvolvimento e suporte de sistemas empresariais.</p>
                    <button>Candidatar-se</button>
                </div>
                <div class="job-listing">
                    <h3>Auxiliar Administrativo</h3>
                    <p><strong>Local:</strong> Vila Velha, ES</p>
                    <p><strong>Salário:</strong> R$ 2.000,00</p>
                    <p><strong>Descrição:</strong> Suporte administrativo e organização de documentos.</p>
                    <button>Candidatar-se</button>
                </div>
            </section>

            <section id="anunciar" class="form-section">
                <h2>Anunciar uma Vaga</h2>
                <form id="job-form" onsubmit="return handleFormSubmit(event)">
                    <input type="text" placeholder="Título da Vaga" required>
                    <input type="text" placeholder="Local" required>
                    <input type="text" placeholder="Salário" required>
                    <textarea placeholder="Descrição da Vaga" rows="5" required></textarea>
                    <button type="submit">Enviar</button>
                </form>
                <div id="form-feedback" class="form-success" style="display: none;">Vaga enviada com sucesso!</div>
                <div id="form-error" class="form-error" style="display: none;">Preencha todos os campos corretamente.</div>
            </section>

            <section id="contato">
                <h2>Contato</h2>
                <p>Entre em contato conosco pelo email: contato@empregoscapixaba.com</p>
            </section>
        </div>

        <div class="ads-space">
            <p>Espaço para anúncios</p>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Empregos Capixaba - Todos os direitos reservados.</p>
    </footer>

    <div class="scroll-to-top" onclick="scrollToTop()">
        &#8593;
    </div>

    <script type="module">
        // Importando as funções do Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";

        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyC8WZRjaa-_WUQXHZuKTIAxMssNWBAXJbI",
            authDomain: "empregos-capixaba-582ad.firebaseapp.com",
            projectId: "empregos-capixaba-582ad",
            storageBucket: "empregos-capixaba-582ad.firebasestorage.app",
            messagingSenderId: "60547519504",
            appId: "1:60547519504:web:d55cf96fefa7e6afe32695",
            measurementId: "G-YE6876RQ9W"
        };

        // Inicializa o Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Função para salvar a vaga no Firestore
        async function salvarVaga(vaga) {
            try {
                const docRef = await addDoc(collection(db, "vagas"), vaga);
                console.log("Vaga salva com ID: ", docRef.id);
            } catch (e) {
                console.error("Erro ao salvar a vaga: ", e);
            }
        }

        // Função para manipular o envio do formulário
        function handleFormSubmit(event) {
            event.preventDefault();

            const titulo = event.target[0].value;
            const local = event.target[1].value;
            const salario = event.target[2].value;
            const descricao = event.target[3].value;

            const novaVaga = {
                titulo: titulo,
                local: local,
                salario: salario,
                descricao: descricao,
                link: "http://exemplo.com/candidatar-se"  // Coloque o link real aqui
            };

            salvarVaga(novaVaga);

            // Exibir feedback
            document.getElementById("form-feedback").style.display = "block";
            document.getElementById("form-error").style.display = "none";

            // Limpar o formulário
            event.target.reset();
        }
    </script>

</body>
</html>
